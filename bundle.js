!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);function a(e,t,n){console.log(this);const a=t[this.getLang()];return Object.entries(e[a]).map(e=>{const[t,n]=e;return((e,t)=>{let n="";return n=-1!==e.indexOf("Key")?`<div id='${e}' class='key key_symbol'>\n    <span id='primary' class='primary_value'>${t[0]}</span>\n    <span id='secondary' class='secondary_value value_hide'>${t[1]?t[1]:t[0]}</span>\n  </div>`:`<div id='${e}' class='key'>\n    <span id='primary' class='primary_value'>${t[0]}</span>\n    <span id='secondary' class='secondary_value value_hide'>${t[1]?t[1]:t[0]}</span>\n  </div>`,n})(t,n)}).join("")}function i(e){switch(e.id){case"body":e.insertAdjacentHTML("afterbegin",`\n        <div id='main_container' class='wrapper'>\n        <textarea id="text_area" class='text_area'></textarea>\n        <div id="kboard_container" class='kboard_container'>\n          ${a.call(this,this.keyMap,this.language,this.currentLangIndex)}\n        </div>\n        </div>`);break;case"kboard_container":for(;e.firstChild;)e.removeChild(e.firstChild);e.insertAdjacentHTML("afterbegin",`${a.call(this,this.keyMap,this.language,this.currentLangIndex)}`)}}const r=new Set;let s=null,o=!1,c=0;function l(e,t){e.setRangeText(t,e.selectionStart,e.selectionEnd,"end"),e.focus()}function d(e,t){const n=document.querySelector("#text_area");let a=[...t.querySelectorAll("span")].filter(e=>!e.classList.contains("value_hide"))[0].textContent;switch(r.add(e.key),!0){case r.has("Shift")&&r.has("Control"):c=1,this.swithLangKey();break;case r.has("CapsLock"):o||t.classList.add("key_down"),document.querySelectorAll(".key_symbol > span").forEach(e=>{e.classList.contains("value_hide")?e.classList.remove("value_hide"):e.classList.add("value_hide")});break;case r.has("Shift")&&r.size<2:c=0,t.classList.add("key_down"),document.querySelectorAll("span").forEach(e=>{e.classList.contains("value_hide")?e.classList.remove("value_hide"):e.classList.add("value_hide")});break;case r.has("Tab"):a="\t",l(n,a);break;case r.has("Backspace"):a="",s=-1,function(e,t){if(e.selectionStart===e.selectionEnd){const n=Math.min(e.selectionStart,Math.max(0,e.selectionStart+s)),a=Math.max(e.selectionEnd,e.selectionStart+s);e.setRangeText(t,n,a,"end")}else e.setRangeText("",e.selectionStart,e.selectionEnd,"end");e.focus()}(n,a);break;case r.has("Enter"):a="\n",l(n,a);break;default:t.classList.add("key_down"),l(n,a)}}function u(e){const t=e.currentTarget;e.currentTarget.classList.contains("key")&&(e.currentTarget.classList.add("key_down"),d(e,t))}function y(e){e.currentTarget.classList.remove("key_down")}const f={language:["en","ru"],currentLangIndex:0,keyMap:{ru:{Backquote:["ё","Ё"],Digit1:["1","!"],Digit2:["2",'"'],Digit3:["3","№"],Digit4:["4",";"],Digit5:["5","%"],Digit6:["6",":"],Digit7:["7","?"],Digit8:["8","*"],Digit9:["9","("],Digit0:["0",")"],Minus:["-","_"],Equal:["=","+"],Backspace:["Backspace"],Tab:["Tab ⇒"],KeyQ:["й","Й"],KeyW:["ц","Ц"],KeyE:["у","У"],KeyR:["к","К"],KeyT:["е","Е"],KeyY:["н","Н"],KeyU:["г","Г"],KeyI:["ш","Ш"],KeyO:["щ","Щ"],KeyP:["з","З"],BracketLeft:["х","Х"],BracketRight:["ъ","Ъ"],Backslash:["\\","|"],CapsLock:["Caps Lock"],KeyA:["ф","Ф"],KeyS:["ы","Ы"],KeyD:["в","В"],KeyF:["а","А"],KeyG:["п","П"],KeyH:["р","Р"],KeyJ:["о","О"],KeyK:["л","Л"],KeyL:["д","Д"],Semicolon:["ж","Ж"],Quote:["э","Э"],Enter:["Enter ↵"],ShiftLeft:["Shift"],KeyZ:["я","Я"],KeyX:["ч","Ч"],KeyC:["с","С"],KeyV:["м","М"],KeyB:["и","И"],KeyN:["т","Т"],KeyM:["ь","Ь"],Comma:["б","Б"],Period:["ю","Ю"],Slash:[".",","],ArrowUp:["▲"],ShiftRight:["Shift"],ControlLeft:["Ctrl"],MetaLeft:["Win"],AltLeft:["Alt"],Space:[" "],AltRight:["Alt"],ControlRight:["Ctrl"],ArrowLeft:["◄"],ArrowDown:["▼"],ArrowRight:["►"]},en:{Backquote:["`","~"],Digit1:["1","!"],Digit2:["2","@"],Digit3:["3","#"],Digit4:["4","$"],Digit5:["5","%"],Digit6:["6","^"],Digit7:["7","&"],Digit8:["8","*"],Digit9:["9","("],Digit0:["0",")"],Minus:["-","_"],Equal:["=","+"],Backspace:["Backspace"],Tab:["Tab ⇒"],KeyQ:["q","Q"],KeyW:["w","W"],KeyE:["e","E"],KeyR:["r","R"],KeyT:["t","T"],KeyY:["y","Y"],KeyU:["u","U"],KeyI:["i","I"],KeyO:["o","O"],KeyP:["p","P"],BracketLeft:["[","{"],BracketRight:["]","}"],Backslash:["\\","|"],CapsLock:["Caps Lock"],KeyA:["a","A"],KeyS:["s","S"],KeyD:["d","D"],KeyF:["f","F"],KeyG:["g","G"],KeyH:["h","H"],KeyJ:["j","J"],KeyK:["k","K"],KeyL:["l","L"],Semicolon:[";",":"],Quote:["'",'"'],Enter:["Enter ↵"],ShiftLeft:["Shift"],KeyZ:["z","Z"],KeyX:["x","X"],KeyC:["c","C"],KeyV:["v","V"],KeyB:["b","B"],KeyN:["n","N"],KeyM:["m","M"],Comma:[",","<"],Period:[".",">"],Slash:["/","?"],ArrowUp:["▲"],ShiftRight:["Shift"],ControlLeft:["Ctrl"],MetaLeft:["Win"],AltLeft:["Alt"],Space:[" "],AltRight:["Alt"],ControlRight:["Ctrl"],ArrowLeft:["◄"],ArrowDown:["▼"],ArrowRight:["►"]}},swithLangKey(){this.currentLangIndex=(this.currentLangIndex+1)%this.language.length,this.setLang();const e=document.querySelector(".kboard_container");i.call(f,e)},setLang(){console.log(window.localStorage),window.localStorage.setItem("language",this.currentLangIndex),console.log(window.localStorage)},getLang:()=>window.localStorage.getItem("language")||0},g=document.querySelector("body");g.id="body",window.addEventListener("load",i.call(f,g));const h=document.querySelectorAll(".key");window.addEventListener("keydown",function(e){e.preventDefault();const t=document.querySelector(`#${e.code}`);return!!t&&(d.call(this,e,t),!0)}.bind(f)),window.addEventListener("keyup",(function(e){e.preventDefault();const t=document.querySelector(`#${e.code}`);if(t)switch(!0){case"CapsLock"===t.id:o?(t.classList.remove("key_down"),r.delete(e.key),o=!1):(r.delete(e.key),o=!0);break;case("ShiftLeft"===t.id||"ShiftRight"===t.id)&&0===c:document.querySelectorAll("span").forEach(n=>{t.classList.remove("key_down"),n.classList.contains("value_hide")?n.classList.remove("value_hide"):n.classList.add("value_hide"),r.delete(e.key)});break;default:r.delete(e.key),t.classList.remove("key_down")}})),h.forEach(e=>{e.addEventListener("mousedown",u),e.addEventListener("mouseup",y),e.addEventListener("mouseleave",y)})}]);